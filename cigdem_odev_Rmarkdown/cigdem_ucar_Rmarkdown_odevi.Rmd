
---
title: "SOSYAL MEDYA VE WEB ANALÄ°ZÄ° DERSÄ° Ã–DEV-2"
author: "Ã‡iÄŸdem UÃ‡AR"
date: "2025-03-12"
output:
  html_document: default
  word_document: default
  pdf_document:
    latex_engine: xelatex
always_allow_html: true
---

<style>
/* Arka plan resmi iÃ§in CSS */
body {
  background-image: url('4.png'); /* Resim URL'si */
  background-size: cover; /* Resmin tÃ¼m sayfayÄ± kaplamasÄ±nÄ± saÄŸlar */
  background-repeat: no-repeat; /* Resmin tekrarlanmasÄ±nÄ± engeller */
  background-attachment: fixed; /* Resmin sabit kalmasÄ±nÄ± saÄŸlar */
  color: white; /* Metin rengini beyaz yapar (isteÄŸe baÄŸlÄ±) */
}
</style>





```{r}
Sys.getlocale()
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
Sys.setlocale("LC_ALL", "tr_TR.UTF-8")


```


```{r include_css, echo=FALSE, results="asis"}
cat("\n<style>\n  body {\n    background-color: #ede5c7; /* Koyu krem arka plan */\n    color: black; /* Yazi rengi siyah */\n  }\n  h1, h2, h3, h4 {\n    color: #a30909; /* Basliklari kirmizi rengi yap */\n  }\n  h4 {\n    color: #4f7f9b; /* Basliklari kirmizi rengi yap */\n  }\n  .main-container {\n    background-color: #ede5c7 !important;\n  }\n  /* Grafiklerin arka planini degistir */\n  .plot-container {\n    background-color: #ede5c7 !important;\n    max-width: 80% !important; /* Grafiklerin genisligini sinirla */\n    margin: 0 auto !important; /* Grafikleri ortala */\n  }\n  /* ggplot grafiklerinin panel arka plani */\n  .ggplot-panel {\n    background-color: #ede5c7 !important;\n  }\n  /* R kodlarinin arka plani */\n  pre.r, code.r {\n    background-color: #f5eed5 !important;\n    font-size: 85% !important; /* Kod yazi boyutunu kucult */\n    max-height: 300px !important; /* Maksimum yukseklik */\n    overflow-y: auto !important; /* Icerik sigmazsa kaydirma cubugu */\n  }\n  /* Kod ciktilarinin arka plani - ÅEFFAF YAP */\n  pre:not(.r), code:not(.r) {\n    background-color: transparent !important;\n    font-size: 85% !important;\n    max-height: 300px !important;\n    overflow-y: auto !important;\n  }\n  /* Tablolar icin arka plan ve boyut */\n  table, th, td {\n    background-color: #f5eed5 !important;\n    font-size: 90% !important; /* Tablo yazi boyutunu kucult */\n  }\n  /* Kod bloklari icin ozel stillendirme */\n  .sourceCode {\n    max-height: 250px !important;\n    overflow-y: auto !important;\n  }\n</style>\n")
```




# **BATI KARADENÄ°Z VE MARMARA BÃ–LGELERÄ°NDEKÄ° Ä°LLERÄ°N Ä°LÄ°ÅKÄ°SÄ°**

Ã‡alÄ±ÅŸmamÄ±n iÃ§eriÄŸi TÃ¼rkiye'de bulunan BatÄ± Karadeniz ve Marmara bÃ¶lgelerinde ki
illerin arasÄ±ndaki iliÅŸkilerini gÃ¶zlemlemektir. Ä°lk Ã§alÄ±ÅŸmamda iller arasÄ±nda 
bir sosyal aÄŸ analizi yaptÄ±m ve illerin enlem boylam bilgilerini giren kodu oluÅŸturdum.
Åimdiki Ã§alÄ±ÅŸmamda ise yapacaÄŸÄ±m adÄ±mlar ÅŸu ÅŸekilde izlenecektir.

## Ä°Ã‡Ä°NDEKÄ°LER

- ***BATI KARADENÄ°Z VE MARMARA BÃ–LGELERÄ°NDE BULUNAN Ä°LLER ***
- ***TÃœRKÄ°YE HARÄ°TASI ÃœZERÄ°NDE Ä°LLERÄ°N GÃ–STERÄ°MÄ°***
- ***BATI KARADENÄ°Z VE MARMARA BÃ–LGELERÄ°NDE KÄ° Ä°LLERÄ°N SOSYAL AÄ ANALÄ°ZÄ° ***
- ***Ä°LLERÄ°N DEMOGRAFÄ°K BÄ°LGÄ°LERÄ° VE GRAFÄ°KLERÄ°***

Ã‡alÄ±ÅŸmam bu balÅŸlÄ±klar altÄ±nda devam edecektir. 



### ***BATI KARADENÄ°Z VE MARMARA BÃ–LGELERÄ°NDE BULUNAN Ä°LLER ***

TÃ¼rkiye, yedi coÄŸrafi bÃ¶lgeden oluÅŸan geniÅŸ bir coÄŸrafyaya sahiptir. Bu bÃ¶lgelerden ikisi olan BatÄ± Karadeniz ve Marmara BÃ¶lgesi, hem ekonomik hem de kÃ¼ltÃ¼rel aÃ§Ä±dan bÃ¼yÃ¼k bir Ã¶neme sahiptir. Bu yazÄ±da, bu iki bÃ¶lgede bulunan iller ve bu illerin genel Ã¶zellikleri ele alÄ±nacaktÄ±r.





####  *[ ğŸ“ŒBatÄ± Karadeniz BÃ¶lgesinde Bulunan Ä°ller]{.ul}*

BatÄ± Karadeniz, Karadeniz BÃ¶lgesi'nin batÄ±sÄ±nda yer alan bÃ¶lÃ¼mÃ¼dÃ¼r. OrmanlÄ±k alanlarÄ±, daÄŸlarÄ±, yaylalarÄ± ve sahil ÅŸeridiyle dikkat Ã§eker. BatÄ± Karadeniz bÃ¶lgesinde bulunan iller ÅŸunlardÄ±r:



```{r, echo=FALSE}
knitr::include_graphics("batikaradeniz1.png")

```


####  *[ ğŸ“ŒMarmara BÃ¶lgesinde Bulunan Ä°ller]{.ul}*

Marmara BÃ¶lgesi, TÃ¼rkiye'nin en batÄ±sÄ±nda yer alan ve en yoÄŸun nÃ¼fusa sahip olan bÃ¶lgesidir. Sanayi, ticaret ve turizm alanlarÄ±nda Ã¶nemli bir yere sahiptir. Marmara BÃ¶lgesi'nde bulunan iller ÅŸunlardÄ±r:

```{r, echo=FALSE}
knitr::include_graphics("marmara1.png")
```

BatÄ± Karadeniz ve Marmara BÃ¶lgesi, TÃ¼rkiye'nin hem doÄŸal hem de ekonomik bakÄ±mdan en Ã¶nemli iki bÃ¶lgesidir. BatÄ± Karadeniz, doÄŸal gÃ¼zellikleri, ormanlarÄ± ve denizi ile Ã¶ne Ã§Ä±karken; Marmara BÃ¶lgesi, sanayi ve ticaretin kalbi olarak bÃ¼yÃ¼k bir ekonomik merkez konumundadÄ±r. Bu iki bÃ¶lge, TÃ¼rkiye'nin kalkÄ±nmasÄ±nda Ã§ok Ã¶nemli bir role sahiptir.


### ***TÃœRKÄ°YE HARÄ°TASI ÃœZERÄ°NDE Ä°LLERÄ°N GÃ–STERÄ°MÄ°***


```{r, echo=FALSE}
knitr::include_graphics("tÃ¼rkiye_haritasi_gosterim.png")
```


### ***BATI KARADENÄ°Z VE MARMARA BÃ–LGELERÄ°NDE KÄ° Ä°LLERÄ°N SOSYAL AÄ ANALÄ°ZÄ° ***

Blogumun baÅŸÄ±nda bahsettiÄŸim ilk calismam sosyal ag analizi uzerineydi. CalismamÄ±n 
amaci TÃ¼rkiye'de bulunan 7 bÃ¶lgeden 2 tanesinin (Marmara ve BatÄ± karadeniz) illerinin
arasÄ±ndaki sosyal aÄŸ analiziydi. Sizlere Ã§alismamda kullandigim 
kodlarÄ±n guncellenmis ve deÄŸiÅŸtirilmiÅŸ halleriyle neler yapÄ±labileceÄŸini gÃ¶stereceÄŸim. 


*â†ª Ä°lk olarak Ã§alÄ±ÅŸma yapacaÄŸÄ±mÄ±z konuda kullanacaÄŸÄ±mÄ±z gerekli kÃ¼tÃ¼phaneleri indirmeliyiz.*

```{r}

library(igraph)
library(visNetwork)
library(ggplot2)


```


*â†ª Daha sonra aÄŸ verimizi tanÄ±mlamamÄ±z gerekiyor. Bunun iÃ§in veri seti Ã§ekebilir ya da manuel olarak*
*girebiliriz. Ben manuel olarak baÄŸlantÄ±lÄ± ÅŸehirlerimi tanÄ±mlayÄ±p kenar listesi oluÅŸturdum. Ä°ÅŸte â†·*


```{r}
# Kenar listesi (Åehirler arasÄ± baÄŸlantÄ±lar)
edges <- c("Bolu","Duzce", "Bolu","Karabuk", "Bolu","Bartin", "Bolu","Zonguldak", "Bolu","Kastamonu",
           "Duzce","Bolu", "Duzce","Karabuk", "Duzce","Bartin", "Duzce","Zonguldak", "Duzce","Kastamonu",
           "Karabuk","Bolu", "Karabuk","Duzce", "Karabuk","Bartin", "Karabuk","Zonguldak", "Karabuk","Kastamonu",
           "Bartin","Bolu", "Bartin","Duzce", "Bartin","Karabuk", "Bartin","Zonguldak", "Bartin","Kastamonu",
           "Zonguldak","Bolu", "Zonguldak","Duzce", "Zonguldak","Karabuk", "Zonguldak","Bartin", "Zonguldak","Kastamonu",
           "Kastamonu","Bolu", "Kastamonu","Duzce", "Kastamonu","Karabuk", "Kastamonu","Bartin", "Kastamonu","Zonguldak")

# Kenar listesini kullanarak aÄŸ grafiÄŸini oluÅŸtur
g <- graph_from_edgelist(matrix(edges, ncol = 2, byrow = TRUE), directed = FALSE)

# DÃ¼ÄŸÃ¼mlere rastgele koordinatlar atama
set.seed(42)
V(g)$latitude <- runif(vcount(g), 40, 42)
V(g)$longitude <- runif(vcount(g), 27, 30)

# DÃ¼ÄŸÃ¼mlere isim verme
V(g)$name <- as.character(V(g))

```


OluÅŸturduÄŸumuz aÄŸ verilerini grafik Ã§izmek iÃ§in aÅŸaÄŸÄ±daki kodu kullanÄ±yoruz. Ortaya temel aÄŸ grafiÄŸi Ã§Ä±kacaktÄ±r. GrafiÄŸin dÃ¼ÄŸÃ¼mleri bordo, kenarlar mavi renkte olacaktÄ±r.
```{r}

# GÃ¶rselleÅŸtirme iÃ§in dÃ¼ÄŸÃ¼m ve kenar renkleri
node_colors <- rep("#a30909", vcount(g))  
edge_colors <- rep("blue", ecount(g))  
node_frame_colors <- rep("orange", vcount(g))  

# AÄŸÄ±n gÃ¶rselleÅŸtirilmesi
plot(g, edge.arrow.size = 13, vertex.color = node_colors, vertex.size = 50, 
     vertex.frame.color = node_frame_colors, vertex.label.color = "black", 
     vertex.label.cex = 1.2, vertex.label.dist = 2, edge.curved = 0.5)

```



- *Bu kod parÃ§asÄ± interaktif bir aÄŸ haritasÄ± oluÅŸturur ve bazÄ± Ã¶nemli Ã¶zellikler iÃ§erir:*

`V(g)$name`: Grafikteki her dÃ¼ÄŸÃ¼mÃ¼n (ÅŸehrin) adÄ±dÄ±r.
`label`: DÃ¼ÄŸÃ¼mlerin Ã¼zerine yazÄ±lacak isimler belirlenir.
`lat` ve `lon`: DÃ¼ÄŸÃ¼mlerin koordinat bilgileri (haritada yerleÅŸtirmek iÃ§in)dir.
`color = "#a30909"`: DÃ¼ÄŸÃ¼mlerin varsayÄ±lan rengi bordo olarak ayarlanmÄ±ÅŸtÄ±r.
`size = 10`: DÃ¼ÄŸÃ¼mlerin boyutu 10 punto olarak ayarlanmÄ±ÅŸtÄ±r.

`visNetwork(nodes, edges)` â†’ nodes ve edges kullanarak aÄŸÄ± oluÅŸturur.
`visNodes(size = 15, shape` = "dot", color = "purple") â†’ DÃ¼ÄŸÃ¼mleri mor renkte ve dot (nokta) ÅŸeklinde Ã§izer.
`visEdges(color = "grey")` â†’ KenarlarÄ± gri renkte gÃ¶sterir.
`visOptions(highlightNearest` = TRUE, nodesIdSelection = TRUE)
`highlightNearest` = TRUE: Bir dÃ¼ÄŸÃ¼me tÄ±kladÄ±ÄŸÄ±nda, ona baÄŸlÄ± olan tÃ¼m dÃ¼ÄŸÃ¼mleri vurgular.
`nodesIdSelection` = TRUE: DÃ¼ÄŸÃ¼mleri isimlerine gÃ¶re seÃ§meyi saÄŸlar (filtreleme Ã¶zelliÄŸi ekler).
`visLayout(randomSeed = 42`, improvedLayout = TRUE)
`randomSeed = 42`: HaritanÄ±n her Ã§alÄ±ÅŸtÄ±rmada aynÄ± ÅŸekilde dÃ¼zenlenmesini saÄŸlar bir Ã¶nceki aÄŸ gÃ¶rselleÅŸtirmesinde kullanmadÄ±ÄŸÄ±m iÃ§in her Ã§alÄ±ÅŸtÄ±rmamda farktÄ± ÅŸekilde dÃ¼zenlenmektedir.
`improvedLayout `= TRUE: Daha dÃ¼zenli bir gÃ¶rselleÅŸtirme saÄŸlar.




```{r}
# DÃ¼ÄŸÃ¼mleri iÃ§eren veri Ã§erÃ§evesi
nodes <- data.frame(
  id = V(g)$name, 
  label = V(g)$name, 
  lat = V(g)$latitude,  
  lon = V(g)$longitude,
  color = "#a30909",
  size = 10
)

# KenarlarÄ± iÃ§eren veri Ã§erÃ§evesi
edges <- get.data.frame(g)

# AÄŸ haritasÄ±
visNetwork(nodes, edges) %>%
  visNodes(size = 15, shape = "dot", color = "purple") %>%
  visEdges(color = "grey") %>%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %>%
  visLayout(randomSeed = 42, improvedLayout = TRUE)

```


YaptÄ±ÄŸÄ±m ilk Ã§alÄ±ÅŸmamÄ±n kÄ±saca Ã¶zetleyerek bilgilendirdim. ÅŸimdi ise yeni Ã§alÄ±ÅŸmam hakkÄ±nda bilgilendireceÄŸim.


### ***Ä°LLERÄ°N NÃœFUS BÄ°LGÄ°LERÄ° VE GRAFÄ°KLERÄ°***

Ä°lk Ã§alÄ±ÅŸmamda BatÄ± karadeniz ve Marmara bÃ¶lgelerinde bulunan ÅŸehirlerin sosyal aÄŸ analizlerini ele almÄ±ÅŸtÄ±m. Åimdi ise bu ÅŸehirler Ã¼zerinde son 5 yÄ±l da NÃ¼fus, yaÅŸ oranÄ±, cinsiyet oranÄ± gibi konularÄ±nda deÄŸiÅŸiklikleri grafikler Ã¼zerinden inceleyeceÄŸiz.




```{r}
library(tidyverse)
library(ggplot2)
library(scales)
library(knitr)
```



## Marmara ve BatÄ± Karadeniz Ä°lleri NÃ¼fus Verileri (2019-2024)

Bu kod blogunda, Marmara ve BatÄ± Karadeniz bÃ¶lgesindeki illerin 2019-2024 yÄ±llarÄ± arasÄ±ndaki nÃ¼fus bilgilerini girerek gÃ¶rselleÅŸtirdik yani tablo ÅŸeklinde bir Ã§Ä±ktÄ± alarak belirtilen ÅŸehirlerin yÄ±l ve nÃ¼fuslarÄ±nÄ± gÃ¶rmekteyiz.

```{r veri-girisi}
# NÃ¼fus verileri (TÃœÄ°K verilerinden Ã¶rnek olarak alÄ±nmÄ±ÅŸtÄ±r)
# GerÃ§ek projenizde gÃ¼ncel ve doÄŸru verileri kullanmalÄ±sÄ±nÄ±z

nufus_verileri <- data.frame(
  il = c("Istanbul", "Bursa", "Kocaeli", "Sakarya", "Tekirdag", 
         "Zonguldak", "Bartin", "Karabuk", "Bolu", "Duzce"),
  
  y2019 = c(15519267, 3056120, 1953035, 1029650, 1081065,
            596892, 198999, 248014, 316126, 387844),
  
  y2020 = c(15462452, 3101833, 1997258, 1042649, 1113400,
            591204, 198979, 244453, 316126, 395679),
  
  y2021 = c(15840900, 3147818, 2033441, 1060876, 1142451,
            587684, 201711, 242347, 320014, 400976),
  
  y2022 = c(15907951, 3194720, 2079072, 1075420, 1142552,
            581104, 201061, 240374, 320824, 405106),
  
  y2023 = c(16041602, 3248680, 2122730, 1099631, 1176587,
            576758, 201293, 239597, 322941, 408623),
  
  y2024 = c(16115795, 3293513, 2159306, 1116925, 1201543,
            572146, 201508, 238419, 325067, 411249)
)

# Verileri uzun formata dÃ¶nÃ¼ÅŸtÃ¼rme
nufus_uzun <- nufus_verileri %>%
  pivot_longer(
    cols = starts_with("y"),
    names_to = "yil",
    values_to = "nufus"
  ) %>%
  mutate(yil = as.integer(str_replace(yil, "y", "")))

# Verileri kontrol etme
nufus_uzun
```

## ğŸ“ˆ TÃ¼m Ä°llerin NÃ¼fus GrafiÄŸi

Burada iki bÃ¶lgeye ait tÃ¼m illerin nÃ¼fus deÄŸiÅŸimini gÃ¶steren Ã§izgi grafiÄŸini elde etmek amaÃ§lanmÄ±ÅŸtÄ±r.

```{r tum-iller-grafik, fig.width=10, fig.height=6}

# TÃ¼m illerin nÃ¼fus deÄŸiÅŸimini gÃ¶steren Ã§izgi grafiÄŸi
ggplot(nufus_uzun, aes(x = yil, y = nufus, color = il, group = il)) +
  geom_line(linewidth = 1) +
  geom_point(size = 2) +
  scale_y_continuous(labels = label_comma()) +
  scale_x_continuous(breaks = 2019:2024) +
  labs(
    title = "Marmara ve Bati Karadeniz Illeri Nufus Degisimi (2019-2024)",
    subtitle = "TUIK verileri baz alinmistir",
    x = "Yil",
    y = "Nufus",
    color = "Il"
  ) +
  theme_minimal() +
  theme(
    legend.position = "right",
    plot.title = element_text(face = "bold"),
    axis.text.x = element_text(angle = 0)
  )
```

Ã‡izgi grafiÄŸini incelediÄŸimizde â‡‘ Ä°stanbul'un nÃ¼fusu diÄŸer illere gÃ¶re Ã§ok yÃ¼ksek olduÄŸundan, grafikte diÄŸer illerin deÄŸiÅŸimini gÃ¶rmekte zorlanÄ±yoruz. Bu nedenle, aÅŸaÄŸÄ±da Ä°stanbul hariÃ§ diÄŸer illerin nÃ¼fus deÄŸiÅŸimini gÃ¶steren Ã§izgi grafiÄŸini oluÅŸturdum.

```{r istanbul-haric-grafik, fig.width=10, fig.height=6}

nufus_uzun %>%
  filter(il != "Istanbul") %>%
  ggplot(aes(x = yil, y = nufus, color = il, group = il)) +
  geom_line(linewidth = 1) +
  geom_point(size = 2) +
  scale_y_continuous(labels = label_comma()) +
  scale_x_continuous(breaks = 2019:2024) +
  labs(
    title = "Marmara ve Bati Karadeniz Illeri Nufus Degisimi (2019-2024)",
    subtitle = "Istanbul haric",
    x = "Yil",
    y = "Nufus",
    color = "Il"
  ) +
  theme_minimal() +
  theme(
    legend.position = "right",
    plot.title = element_text(face = "bold"),
    axis.text.x = element_text(angle = 0)
  )
```

## ğŸ“ˆ YÃ¼zdesel DeÄŸiÅŸim GrafiÄŸi

Her ilin 2019'dan 2024'e kadar olan yÃ¼zdesel deÄŸiÅŸimini Ã§izgisel grafikte deÄŸil de nokta grafiÄŸinde gÃ¶relim:

```{r yuzdesel-degisim, fig.width=10, fig.height=6}
yuzdesel_degisim <- nufus_uzun %>%
  group_by(il) %>%
  mutate(
    baz_yil = first(nufus),
    yuzde_degisim = (nufus / baz_yil - 1) * 100
  )

ggplot(yuzdesel_degisim, aes(x = yil, y = yuzde_degisim, color = il, group = il)) +
  geom_point(size = 3, alpha = 0.8) +  
  geom_line(linetype = "dotted", linewidth = 0.5, alpha = 0.6) +
  scale_y_continuous(labels = function(x) paste0(x, "%")) +
  scale_x_continuous(breaks = 2019:2024) +
  labs(
    title = "Marmara ve BatÄ± Karadeniz Ä°lleri NÃ¼fus DeÄŸiÅŸim OranÄ± (2019-2024)",
    subtitle = "2019 baz yÄ±l olarak alÄ±nmÄ±ÅŸtÄ±r",
    x = "YÄ±l",
    y = "DeÄŸiÅŸim OranÄ± (%)",
    color = "Ä°l"
  ) +
  
  theme(
    legend.position = "right",
    plot.title = element_text(face = "bold"),
    axis.text.x = element_text(angle = 0)
  )
```

Ã‡Ä±ktÄ±sÄ±nÄ± aldÄ±ÄŸÄ±m nokta grafiÄŸinde illerin yÄ±llar bazÄ±ndaki deÄŸiÅŸimlerini detaylÄ± bir ÅŸekilde incelemekteyiz.


## NÃ¼fus Verileri Tablosu

Burada belirtmiÅŸ olduÄŸum tabloda yukarÄ±daki verileri Ã§ekerek aÅŸaÄŸÄ±daki kod bloÄŸuyla satÄ±r sÃ¼tÃ¼n ÅŸeklinde bir tablo oluÅŸturdum. 


```{r nufus-tablosu}
# NÃ¼fus verileri tablosu
nufus_verileri %>%
  kable(
    caption = "Marmara ve BatÄ± Karadeniz Ä°lleri NÃ¼fus Verileri (2019-2024)",
    format.args = list(big.mark = ".", decimal.mark = ","),
    col.names = c("Ä°l", "2019", "2020", "2021", "2022", "2023", "2024")
  )
```

Ã‡Ä±ktÄ±sÄ± olan tabloyu kodlarla oluÅŸturduÄŸumu belirtmiÅŸtim. Bir de manuel olarak aynÄ± tabloyu oluÅŸturacaÄŸÄ±m. 


| Ä°l        |       2019 |     2020  |      2021 |      2022 |       2023|      2024 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| Ä°stanbul  | 15.519.267 |15.462.452 |15.840.900 | 15.907.951| 16.041.602|16.115.795 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| Bursa     |  3.056.120 | 3.101.833 | 3.147.818 | 3.194.720 | 3.248.680 | 3.293.513 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| Kocaeli   |  1.953.035 | 1.997.258 | 2.033.441 | 2.079.072 | 2.122.730 | 2.159.306 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| Sakarya   |  1.029.650 | 1.042.649 | 1.060.876 | 1.075.420 | 1.099.631 | 1.116.925 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| TekirdaÄŸ  |  1.081.065 | 1.113.400 | 1.142.451 | 1.142.552 | 1.176.587 | 1.201.543 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| Zonguldak |    596.892 |   591.204 |   587.684 |   581.104 |   576.758 |   572.146 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| BartÄ±n    |    198.999 |   198.979 |   201.711 |   201.061 |   201.293 |   201.508 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| KarabÃ¼k   |    248.014 |   244.453 |   242.347 |   240.374 |   239.597 |   238.419 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| Bolu      |    316.126 |   316.126 |   320.014 |   320.824 |   322.941 |   325.067 |
:-----------|-----------:|----------:|----------:|----------:|----------:|---------- |
| DÃ¼zce     |    387.844 |   395.679 |   400.976 |   405.106 |   408.623 |   411.249 |







Bu grafikler ve tablolar, Marmara ve BatÄ± Karadeniz bÃ¶lgesindeki illerin 2019-2024 yÄ±llarÄ± arasÄ±ndaki nÃ¼fus deÄŸiÅŸimini gÃ¶stermektedir. GÃ¶rÃ¼ldÃ¼ÄŸÃ¼ Ã¼zere, Marmara bÃ¶lgesindeki illerin Ã§oÄŸu artÄ±ÅŸ gÃ¶sterirken, BatÄ± Karadeniz bÃ¶lgesindeki bazÄ± illerde azalma eÄŸilimi gÃ¶rÃ¼lmektedir.


## Marmara ve BatÄ± Karadeniz Ä°lleri YaÅŸ DaÄŸÄ±lÄ±mÄ± (2024)

Bu dokÃ¼manda, Marmara ve BatÄ± Karadeniz bÃ¶lgesindeki illerin yaÅŸ daÄŸÄ±lÄ±mÄ± pasta grafikleri ile gÃ¶rselleÅŸtirilmiÅŸtir.

```{r veri-girisi-2}

yas_verileri <- data.frame(
  il = c("Istanbul", "Bursa", "Kocaeli", "Sakarya", "Tekirdag", 
         "Zonguldak", "Bartin", "Karabuk", "Bolu", "Duzce"),
  
  yas_0_14 = c(23.5, 22.3, 23.1, 22.8, 21.5,
               18.2, 17.5, 17.3, 18.1, 21.2),
  
  yas_15_24 = c(15.8, 15.2, 15.7, 15.3, 15.0,
                13.5, 13.2, 12.7, 14.0, 15.3),
  
  yas_25_44 = c(34.2, 32.8, 33.1, 31.7, 32.5,
                29.2, 27.5, 27.3, 28.4, 30.2),
  
  yas_45_64 = c(19.7, 21.3, 20.5, 21.4, 22.5,
                25.3, 26.5, 26.7, 25.2, 22.8),
  
  yas_65_ustu = c(6.8, 8.4, 7.6, 8.8, 8.5,
                  13.8, 15.3, 16.0, 14.3, 10.5)
)

# Verileri uzun formata donusturme
yas_uzun <- yas_verileri %>%
  pivot_longer(
    cols = starts_with("yas_"),
    names_to = "yas_grubu",
    values_to = "yuzde"
  ) %>%
  mutate(
    yas_grubu = case_when(
      yas_grubu == "yas_0_14" ~ "0-14 Yas",
      yas_grubu == "yas_15_24" ~ "15-24 Yas",
      yas_grubu == "yas_25_44" ~ "25-44 Yas",
      yas_grubu == "yas_45_64" ~ "45-64 Yas",
      yas_grubu == "yas_65_ustu" ~ "65+ Yas"
    )
  )

# Verileri kontrol etme
head(yas_uzun)
```

## Ä°ller Ä°Ã§in Pasta Grafikleri
Her il iÃ§in ayrÄ± bir pasta grafiÄŸi oluÅŸturarak illerin yaÅŸ daÄŸÄ±lÄ±mlarÄ±nÄ± incelemeyi amaÃ§ladÄ±m.

```{r pasta-grafikleri, fig.width=8, fig.height=6, out.width="80%", fig.align="center"}

yas_renkleri <- c("0-14 Yas" = "#a20a0a", 
                 "15-24 Yas" = "#ffde59", 
                 "25-44 Yas" = "#8da0cb", 
                 "45-64 Yas" = "#e78ac3", 
                 "65+ Yas" = "#ade196")


ggplot(yas_uzun, aes(x = "", y = yuzde, fill = yas_grubu)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar("y", start = 0) +
  scale_fill_manual(values = yas_renkleri) +
  labs(
    title = "Marmara ve Bati Karadeniz Illerinin Yas Dagilimi (2024)",
    fill = "Yas Grubu"
  ) +
  theme_void() +
  theme(
    legend.position = "bottom",
    plot.title = element_text(hjust = 0.5, face = "bold"),
    strip.text = element_text(size = 12, face = "bold")
  ) +
  facet_wrap(~ il, ncol = 3)
```

##  Her Ä°l Ä°Ã§in AyrÄ± Pasta Grafikleri

Bu kodu kullanarak istediÄŸimiz ÅŸehir iÃ§in detaylÄ± bir ÅŸekilde pasta grafiÄŸini gÃ¶rebiliriz. Ä°ÅŸte seÃ§ili iller iÃ§in daha detaylÄ± grafikleri gÃ¶relim:

```{r secili-iller-pasta, fig.width=10, fig.height=6}
# Secili iller (Marmara'dan ve Bati Karadeniz'den ornekler)
secili_iller <- c("Istanbul", "Bursa", "Kocaeli", "Duzce")

# Secili iller icin pasta grafigi olusturma
yas_uzun %>%
  filter(il %in% secili_iller) %>%
  ggplot(aes(x = "", y = yuzde, fill = yas_grubu)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar("y", start = 0) +
  scale_fill_manual(values = yas_renkleri) +
  labs(
    title = "Secili Illerin Yas Dagilimi (2024)",
    fill = "Yas Grubu"
  ) +
  geom_text(aes(label = paste0(round(yuzde, 1), "%")), 
            position = position_stack(vjust = 0.5)) +
  theme_void() +
  theme(
    legend.position = "bottom",
    plot.title = element_text(hjust = 0.5, face = "bold"),
    strip.text = element_text(size = 12, face = "bold")
  ) +
  facet_wrap(~ il, ncol = 2)
```




Bu grafikler ve tablolar, Marmara ve BatÄ± Karadeniz bÃ¶lgesindeki illerin yaÅŸ daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶stermektedir. GÃ¶rÃ¼ldÃ¼ÄŸÃ¼ Ã¼zere, Marmara bÃ¶lgesindeki illerde genÃ§ nÃ¼fus (0-24 yaÅŸ) oranÄ± daha yÃ¼ksekken, BatÄ± Karadeniz bÃ¶lgesindeki illerde yaÅŸlÄ± nÃ¼fus (65+ yaÅŸ) oranÄ± daha fazladÄ±r.



##  â™‚ï¸â™€ï¸ Marmara ve BatÄ± Karadeniz Ä°lleri Cinsiyet Verileri (2019-2024)

Marmara ve BatÄ± Karadeniz illeri cinsiyet analizi yapmak iÃ§in verilere ihtiyacÄ±mÄ±z vardÄ± bunu da rastgele sayÄ±lardan elde ettim. 
```{r}
# Åehirler listesi
sehirler <- c("Istanbul", "Bursa", "Kocaeli", "Sakarya", "Tekirdag", 
              "Zonguldak", "Bartin", "Karabuk", "Bolu", "Duzce")

# YÄ±llar
yillar <- 2019:2024

# Veriyi oluÅŸtur
set.seed(123) # Rastgele sayÄ±lar iÃ§in sabit bir seed deÄŸeri
veri <- expand.grid(il = sehirler, yil = yillar, cinsiyet = c("Erkek", "Kadin")) %>%
  mutate(sayi = round(runif(n(), 500000, 2000000))) # Rastgele kiÅŸi sayÄ±sÄ± oluÅŸtur

veri
```


## Marmara ve BatÄ± Karadeniz de bulunan illerin cinsiyet verilerinin makarna grafiÄŸi gÃ¶sterimi


Her ÅŸehir iÃ§in cinsiyet bazÄ±nda zaman yerinde deÄŸiÅŸim gÃ¶steren bir makarna grafiÄŸi Ã§iziyoruz. Renkleri manuel olarak deÄŸiÅŸtiriyoruz.

```{r}

renk_paleti <- c("Erkek" = "#8da0cb", "Kadin" = "#a20a0a") # Mavi ve KÄ±rmÄ±zÄ± renkler


ggplot(veri, aes(x = yil, y = sayi, color = cinsiyet, group = interaction(il, cinsiyet))) +
  geom_line(size = 0.8, alpha = 0.7) + 
  scale_color_manual(values = renk_paleti) + 
  facet_wrap(~ il, ncol = 3) + 
  labs(title = "2019-2024 Cinsiyet DaÄŸÄ±lÄ±mÄ± (Makarna GrafiÄŸi)",
       x = "YÄ±l",
       y = "KiÅŸi SayÄ±sÄ±",
       color = "Cinsiyet") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) # X eksenindeki yÄ±l etiketlerini dÃ¶ndÃ¼r
```



## YoÄŸunluk haritasÄ±


```{r setup1, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(ggplot2)
library(dplyr)
library(tidyr) # Veriyi pivot yapmak iÃ§in
```


```{r}
# Åehirler listesi
sehirler <- c("Istanbul", "Bursa", "Kocaeli", "Sakarya", "Tekirdag", 
              "Zonguldak", "Bartin", "Karabuk", "Bolu", "Duzce")

# YÄ±llar
yillar <- 2019:2024

# Veriyi oluÅŸtur
set.seed(123) # Rastgele sayÄ±lar iÃ§in sabit bir seed deÄŸeri
veri <- expand.grid(il = sehirler, yil = yillar, cinsiyet = c("Erkek", "Kadin")) %>%
  mutate(sayi = round(runif(n(), 500000, 2000000))) # Rastgele kiÅŸi sayÄ±sÄ± oluÅŸtur

# Veriyi gÃ¶rÃ¼ntÃ¼le
head(veri)
```


```{r}
# Veriyi pivot yap (wide format)
veri_wide <- veri %>%
  pivot_wider(names_from = cinsiyet, values_from = sayi)

# Veriyi gÃ¶rÃ¼ntÃ¼le
head(veri_wide)
```


yukarÄ±da oluÅŸturduÄŸumuz kodlar kadÄ±n ve erkek oranlarÄ±nÄ± tablolaÅŸtÄ±rmamÄ±zda iÅŸimize yaradÄ±. Åimdi ise elde ettiÄŸimiz verileri yoÄŸunluk haritasÄ±nda gÃ¶receÄŸiz. 

#### Erkek Cinsiyet YoÄŸunluk HaritasÄ±


```{r}
# YoÄŸunluk haritasÄ±nÄ± Ã§iz
ggplot(veri_wide, aes(x = yil, y = il, fill = Erkek)) +
  geom_tile(color = "white", size = 0.1) + # Kafeslerin kenarlarÄ±nÄ± beyaz yap
  scale_fill_gradient(low = "#f7fbff", high = "#08306b") + # Renk skalasÄ±
  labs(title = "Erkek Cinsiyet YoÄŸunluk HaritasÄ±",
       x = "YÄ±l",
       y = "Åehir",
       fill = "KiÅŸi SayÄ±sÄ±") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) # X eksenindeki yÄ±l etiketlerini dÃ¶ndÃ¼r
```

#### KadÄ±n Cinsiyet YoÄŸunluk HaritasÄ±

```{r}
# KadÄ±n iÃ§in yoÄŸunluk haritasÄ±nÄ± Ã§iz
ggplot(veri_wide, aes(x = yil, y = il, fill = Kadin)) +
  geom_tile(color = "white", size = 0.1) + # Kafeslerin kenarlarÄ±nÄ± beyaz yap
  scale_fill_gradient(low = "#fff5f0", high = "#67000d") + # Renk skalasÄ±
  labs(title = "KadÄ±n Cinsiyet YoÄŸunluk HaritasÄ±",
       x = "YÄ±l",
       y = "Åehir",
       fill = "KiÅŸi SayÄ±sÄ±") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) # X eksenindeki yÄ±l etiketlerini dÃ¶ndÃ¼r
```


## kelime bulutu

Ek olarak BatÄ± Karadeniz ve Marmara bÃ¶lgelerinde baz aldÄ±ÄŸÄ±mÄ±z illeri iÃ§eren bir kelime bulutu oluÅŸturdum. 



â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“â‡“

```{r}
library(ggwordcloud)
library(ggplot2)
library(showtext)
library(RColorBrewer)
```


```{r}
# Karadeniz BÃ¶lgesi ÅŸehirleri
karadeniz_sehirleri <- c("BartÄ±n", "Bolu", "DÃ¼zce", "KarabÃ¼k", "Kastamonu", "Zonguldak")

# Marmara BÃ¶lgesi ÅŸehirleri
marmara_sehirleri <- c("BalÄ±kesir", "Bilecik", "Bursa", "Ã‡anakkale", "Edirne", "Ä°stanbul",
                        "KÄ±rklareli", "Kocaeli", "Sakarya", "TekirdaÄŸ", "Yalova")

# TÃ¼m ÅŸehirleri birleÅŸtir
tum_sehirler <- c(karadeniz_sehirleri, marmara_sehirleri)

# Åehirlerin kelime sÄ±klÄ±ÄŸÄ±nÄ± rastgele belirleyelim
set.seed(123)
frekanslar <- sample(10:50, length(tum_sehirler), replace = TRUE)  # 10-50 arasÄ± rastgele frekans
renkler <- sample(brewer.pal(8, "Dark2"), length(tum_sehirler), replace = TRUE)  # Rastgele renk seÃ§imi
aci <- sample(seq(-45, 45, by = 15), length(tum_sehirler), replace = TRUE)  # Rastgele aÃ§Ä±lar

# Veri Ã§erÃ§evesini oluÅŸtur
sehir_frekans <- data.frame(
  Sehir = tum_sehirler,
  Frekans = frekanslar,
  Renk = renkler,
  Aci = aci
)

# Veriyi kontrol edelim
print(sehir_frekans)
```



```{r}
# TÃ¼rkÃ§e fontlarÄ± ekleyelim
font_add_google("Open Sans", "opensans")
showtext_auto()
```



```{r}
ggplot(sehir_frekans, aes(label = Sehir, size = Frekans, color = Renk, angle = Aci)) +
  geom_text_wordcloud(family = "opensans", fontface = "bold") +  # TÃ¼rkÃ§e destekli font
  scale_size_area(max_size = 15) +  # Kelime boyutlarÄ±nÄ± belirle
  scale_color_identity() +  # Renkleri doÄŸrudan kullan
  theme_minimal() +
  ggtitle("BatÄ± Karadeniz ve Marmara Åehirleri Kelime Bulutu") +
  theme(plot.title = element_text(size = 16, face = "bold"))
```




```{r, echo=FALSE}
knitr::include_graphics("son_goruntu.png")

```




```{r, echo=FALSE, results='asis'}
cat('<audio controls autoplay preload="auto">
        <source src="videoplayback.m4a" type="audio/mp4">
        TarayÄ±cÄ±nÄ±z ses dosyasÄ±nÄ± desteklemiyor.
      </audio>')

```